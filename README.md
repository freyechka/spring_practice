Дискорд бот Test-Bot на основе discord.py

Данный бот позволяет хранить информацию об участниках на сервере такую как: дата присоединения к серверу, история сообщений пользователя, информация, которую пользователь имеет возможность записать в бота и к которой может обращаться впоследствии.

Информация в бота записывается в виде:

"discord-id пользователя": {
    "Message_History": python-объект класса list
    "Additional_Info": python-объект класса str
    "Member_Activities": python-объект класса str
    "Joined_At": python-объект класса str
}

По получении новой информации бот обновит json-файл.

Ключами являются python-объекты класса str.

Для корректной работы бота следует настроить файл config.py следующим образом:

TOKEN = 'укажите_здесь_токен_бота' - тип str

PREFIX = 'укажите_здесь_префикс_для_команд_бота' - тип str

default_role_id = укажите_здесь_id_стандартной_роли - тип int 

lobby_channel_id = укажите_здесь_id_канала_для_приветствия - тип int

file_path = 'укажите_здесь_путь_для_json-файла' - тип str

text_file = 'укажите_здесь_путь_для_txt-файла' - тип str

picture = 'укажите_здесь_url_картинки_которая_будет_располагаться_в_рамочке_команды_помощь' - тип str

Текстовый файл необходим для генерации лексикона бота. При желании его можно наполнить какими-либо словами, разделенными пробелом.

При запуске бота в случае отсутствия файла users.json он будет создан. Затем бот считает всю информацию о пользователях из созданного/имеющегося файла в словарь data, который будет использоваться для хранения информации о пользователях. При внесении в словарь новой информации файл будет перезаписываться.

В начале своей работы бот парсит цитаты с сайта, составляя список цитат, необходимый для команды /say

При подключении пользователя к серверу бот выдает ему стандартную роль, id которой прописан в файле config.py, занесет информацию о нем в словарь data, после чего обновит файл, и поприветствует пользователя кастомным приветствием, которое будет отослано в специально отведенный для этого канал, id которого также нужно указать в config.py

У бота определено поведение при получении сообщений:

+Если автором сообщения является сам бот, то он на него никак не реагирует;

+Если сообщение не начинается с префикса команды, то это сообщение занесется в текстовый файл, указанный в конфиг-файле;

+Если в сообщении упоминается бот, то он ответит на него определенной фразой;

+Иначе, если генерируется четное число, бот отправляет случайно сгенерированное сообщение из слов, содержащихся в текстовом файле;

Каждое сообщение, отправленное пользователем, заносится в поле "Message_History", после чего файл перезаписывается.

У бота определены четыре слэш-команды:

/8ball - "магический шар", позволяющий получить ответ на вопрос, предполагающий ответ "да/нет"

Пример использования: /8ball Стоит ли мне сегодня закончить работу?

Ответ бота: 'Ответ на вопрос: "Стоит ли мне сегодня закончить работу?" - Весьма сомнительно'

/say - генерирует случайную цитату на основе списка цитат

Пример использования: /say

Ответ бота: "Надо любить жизнь больше, чем смысл жизни."

/direct - позволяет отправить анонимное сообщение пользователю через аккаунт бота

Пример использования: /direct @Test-Bot Проверка

Ответ бота, который видите только вы: "Сообщение успешно отправлено!"

/numgen - генератор рандомных чисел в границах от 1 до заданной пользователем

Пример использования: /numgen 25

Ответ бота: "Ваше число: 5"

Команды бота с префиксами(перед каждой командой необходимо использовать префикс, заданный в конфиге):

помощь - позволяет узнать команды, которые имеет бот

Пример использования: !помощь

Бот ответит на сообщение рамкой, содержащей список команд.

инфо - позволяет узнать информацию об определенном пользователе

Пример использования: !инфо @Test-Bot

Бот ответит на сообщение рамкой с информацией о пользователе.

актив - позволяет пользователю изменить информацию о своей активности. Все, что передано в качестве аргумента после команды записывается в поле Member_Activities

Пример использования: !актив делаю бота

При успешном изменении информации бот даст обратную связь.

доп.инфо - позволяет пользователю изменить информацию о своей активности. Все, что передано в качестве аргумента после команды записывается в поле Additional_Info

Пример использования: !актив не беспокойте по пустякам

При успешном изменении информации бот даст обратную связь.

чистка - позволяет очистить от сообщений канал, в котором прописана. В качестве аргумента можно указать количество сообщений, которое следует удалить(Значение по умолчанию - 1_000_000). Команда доступна пользователям с правами администратора.

Пример использования: !чистка (или !чистка 50)

При неправильном использовании команды с префиксом бот уведомляет об этом, демонстрируя пример правильного написания команды.

Если команда у бота отсутствует, он отвечает соответствующим сообщением.
